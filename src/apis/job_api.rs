/*
 * Isilon SDK
 *
 * Isilon SDK - Language bindings for the OneFS API
 *
 * OpenAPI spec version: 5
 * Contact: sdk@isilon.com
 * Generated by: https://github.com/swagger-api/swagger-codegen.git
 */

use std::borrow::Borrow;
use std::rc::Rc;

use futures;
use futures::Future;
use hyper;

use super::{configuration, put, query, Error};

pub struct JobApiClient<C: hyper::client::connect::Connect> {
    configuration: Rc<configuration::Configuration<C>>,
}

impl<C: hyper::client::connect::Connect> JobApiClient<C> {
    pub fn new(configuration: Rc<configuration::Configuration<C>>) -> JobApiClient<C> {
        JobApiClient {
            configuration: configuration,
        }
    }
}

pub trait JobApi {
    fn create_job_job(
        &self,
        job_job: crate::models::JobJobCreateParams,
    ) -> Box<dyn Future<Item = crate::models::CreateJobJobResponse, Error = Error>>;
    fn create_job_policy(
        &self,
        job_policy: crate::models::JobPolicyCreateParams,
    ) -> Box<dyn Future<Item = crate::models::CreateResponse, Error = Error>>;
    fn delete_job_policy(&self, job_policy_id: &str) -> Box<dyn Future<Item = (), Error = Error>>;
    fn get_job_events(
        &self,
        begin: i32,
        end: i32,
        job_id: i32,
        resume: &str,
        job_type: &str,
        timeout_ms: i32,
        state: &str,
        limit: i32,
        key: &str,
    ) -> Box<dyn Future<Item = crate::models::JobEvents, Error = Error>>;
    fn get_job_job(
        &self,
        job_job_id: &str,
    ) -> Box<dyn Future<Item = crate::models::JobJobs, Error = Error>>;
    fn get_job_job_summary(
        &self,
    ) -> Box<dyn Future<Item = crate::models::JobJobSummary, Error = Error>>;
    fn get_job_policy(
        &self,
        job_policy_id: &str,
    ) -> Box<dyn Future<Item = crate::models::JobPolicies, Error = Error>>;
    fn get_job_recent(
        &self,
        timeout_ms: i32,
        limit: i32,
    ) -> Box<dyn Future<Item = crate::models::JobRecent, Error = Error>>;
    fn get_job_reports(
        &self,
        begin: i32,
        end: i32,
        job_id: i32,
        resume: &str,
        job_type: &str,
        timeout_ms: i32,
        limit: i32,
        key: &str,
        verbose: bool,
    ) -> Box<dyn Future<Item = crate::models::JobReports, Error = Error>>;
    fn get_job_statistics(
        &self,
        devid: i32,
        job_id: i32,
    ) -> Box<dyn Future<Item = crate::models::JobStatistics, Error = Error>>;
    fn get_job_type(
        &self,
        job_type_id: &str,
    ) -> Box<dyn Future<Item = crate::models::JobTypes, Error = Error>>;
    fn get_job_types(
        &self,
        sort: &str,
        show_all: bool,
        dir: &str,
    ) -> Box<dyn Future<Item = crate::models::JobTypesExtended, Error = Error>>;
    fn list_job_jobs(
        &self,
        sort: &str,
        resume: &str,
        batch: bool,
        state: &str,
        limit: i32,
        dir: &str,
    ) -> Box<dyn Future<Item = crate::models::JobJobsExtended, Error = Error>>;
    fn list_job_policies(
        &self,
        sort: &str,
        limit: i32,
        dir: &str,
        resume: &str,
    ) -> Box<dyn Future<Item = crate::models::JobPoliciesExtended, Error = Error>>;
    fn update_job_job(
        &self,
        job_job: crate::models::JobJob,
        job_job_id: &str,
    ) -> Box<dyn Future<Item = (), Error = Error>>;
    fn update_job_policy(
        &self,
        job_policy: crate::models::JobPolicy,
        job_policy_id: &str,
    ) -> Box<dyn Future<Item = (), Error = Error>>;
    fn update_job_type(
        &self,
        job_type: crate::models::JobType,
        job_type_id: &str,
    ) -> Box<dyn Future<Item = (), Error = Error>>;
}

impl<C: hyper::client::connect::Connect + 'static> JobApi for JobApiClient<C> {
    fn create_job_job(
        &self,
        job_job: crate::models::JobJobCreateParams,
    ) -> Box<dyn Future<Item = crate::models::CreateJobJobResponse, Error = Error>> {
        let uri_str = format!("{}/platform/3/job/jobs", self.configuration.base_path);
        query(
            self.configuration.borrow(),
            &uri_str,
            &job_job,
            hyper::Method::POST,
        )
    }

    fn create_job_policy(
        &self,
        job_policy: crate::models::JobPolicyCreateParams,
    ) -> Box<dyn Future<Item = crate::models::CreateResponse, Error = Error>> {
        let uri_str = format!("{}/platform/1/job/policies", self.configuration.base_path);
        query(
            self.configuration.borrow(),
            &uri_str,
            &job_policy,
            hyper::Method::POST,
        )
    }

    fn delete_job_policy(&self, job_policy_id: &str) -> Box<dyn Future<Item = (), Error = Error>> {
        let uri_str = format!(
            "{}/platform/1/job/policies/{JobPolicyId}",
            self.configuration.base_path,
            JobPolicyId = job_policy_id
        );
        query(
            self.configuration.borrow(),
            &uri_str,
            &"",
            hyper::Method::DELETE,
        )
    }

    fn get_job_events(
        &self,
        begin: i32,
        end: i32,
        job_id: i32,
        resume: &str,
        job_type: &str,
        timeout_ms: i32,
        state: &str,
        limit: i32,
        key: &str,
    ) -> Box<dyn Future<Item = crate::models::JobEvents, Error = Error>> {
        let q = ::url::form_urlencoded::Serializer::new(String::new())
            .append_pair("begin", &begin.to_string())
            .append_pair("end", &end.to_string())
            .append_pair("job_id", &job_id.to_string())
            .append_pair("resume", &resume.to_string())
            .append_pair("job_type", &job_type.to_string())
            .append_pair("timeout_ms", &timeout_ms.to_string())
            .append_pair("state", &state.to_string())
            .append_pair("limit", &limit.to_string())
            .append_pair("key", &key.to_string())
            .finish();
        let uri_str = format!(
            "{}/platform/3/job/events?{}",
            self.configuration.base_path, q
        );
        query(
            self.configuration.borrow(),
            &uri_str,
            &"",
            hyper::Method::GET,
        )
    }

    fn get_job_job(
        &self,
        job_job_id: &str,
    ) -> Box<dyn Future<Item = crate::models::JobJobs, Error = Error>> {
        let uri_str = format!(
            "{}/platform/3/job/jobs/{JobJobId}",
            self.configuration.base_path,
            JobJobId = job_job_id
        );
        query(
            self.configuration.borrow(),
            &uri_str,
            &"",
            hyper::Method::GET,
        )
    }

    fn get_job_job_summary(
        &self,
    ) -> Box<dyn Future<Item = crate::models::JobJobSummary, Error = Error>> {
        let uri_str = format!(
            "{}/platform/1/job/job-summary",
            self.configuration.base_path
        );
        query(
            self.configuration.borrow(),
            &uri_str,
            &"",
            hyper::Method::GET,
        )
    }

    fn get_job_policy(
        &self,
        job_policy_id: &str,
    ) -> Box<dyn Future<Item = crate::models::JobPolicies, Error = Error>> {
        let uri_str = format!(
            "{}/platform/1/job/policies/{JobPolicyId}",
            self.configuration.base_path,
            JobPolicyId = job_policy_id
        );
        query(
            self.configuration.borrow(),
            &uri_str,
            &"",
            hyper::Method::GET,
        )
    }

    fn get_job_recent(
        &self,
        timeout_ms: i32,
        limit: i32,
    ) -> Box<dyn Future<Item = crate::models::JobRecent, Error = Error>> {
        let q = ::url::form_urlencoded::Serializer::new(String::new())
            .append_pair("timeout_ms", &timeout_ms.to_string())
            .append_pair("limit", &limit.to_string())
            .finish();
        let uri_str = format!(
            "{}/platform/3/job/recent?{}",
            self.configuration.base_path, q
        );
        query(
            self.configuration.borrow(),
            &uri_str,
            &"",
            hyper::Method::GET,
        )
    }

    fn get_job_reports(
        &self,
        begin: i32,
        end: i32,
        job_id: i32,
        resume: &str,
        job_type: &str,
        timeout_ms: i32,
        limit: i32,
        key: &str,
        verbose: bool,
    ) -> Box<dyn Future<Item = crate::models::JobReports, Error = Error>> {
        let q = ::url::form_urlencoded::Serializer::new(String::new())
            .append_pair("begin", &begin.to_string())
            .append_pair("end", &end.to_string())
            .append_pair("job_id", &job_id.to_string())
            .append_pair("resume", &resume.to_string())
            .append_pair("job_type", &job_type.to_string())
            .append_pair("timeout_ms", &timeout_ms.to_string())
            .append_pair("limit", &limit.to_string())
            .append_pair("key", &key.to_string())
            .append_pair("verbose", &verbose.to_string())
            .finish();
        let uri_str = format!(
            "{}/platform/3/job/reports?{}",
            self.configuration.base_path, q
        );
        query(
            self.configuration.borrow(),
            &uri_str,
            &"",
            hyper::Method::GET,
        )
    }

    fn get_job_statistics(
        &self,
        devid: i32,
        job_id: i32,
    ) -> Box<dyn Future<Item = crate::models::JobStatistics, Error = Error>> {
        let q = ::url::form_urlencoded::Serializer::new(String::new())
            .append_pair("devid", &devid.to_string())
            .append_pair("job_id", &job_id.to_string())
            .finish();
        let uri_str = format!(
            "{}/platform/1/job/statistics?{}",
            self.configuration.base_path, q
        );
        query(
            self.configuration.borrow(),
            &uri_str,
            &"",
            hyper::Method::GET,
        )
    }

    fn get_job_type(
        &self,
        job_type_id: &str,
    ) -> Box<dyn Future<Item = crate::models::JobTypes, Error = Error>> {
        let uri_str = format!(
            "{}/platform/1/job/types/{JobTypeId}",
            self.configuration.base_path,
            JobTypeId = job_type_id
        );
        query(
            self.configuration.borrow(),
            &uri_str,
            &"",
            hyper::Method::GET,
        )
    }

    fn get_job_types(
        &self,
        sort: &str,
        show_all: bool,
        dir: &str,
    ) -> Box<dyn Future<Item = crate::models::JobTypesExtended, Error = Error>> {
        let q = ::url::form_urlencoded::Serializer::new(String::new())
            .append_pair("sort", &sort.to_string())
            .append_pair("show_all", &show_all.to_string())
            .append_pair("dir", &dir.to_string())
            .finish();
        let uri_str = format!(
            "{}/platform/1/job/types?{}",
            self.configuration.base_path, q
        );
        query(
            self.configuration.borrow(),
            &uri_str,
            &"",
            hyper::Method::GET,
        )
    }

    fn list_job_jobs(
        &self,
        sort: &str,
        resume: &str,
        batch: bool,
        state: &str,
        limit: i32,
        dir: &str,
    ) -> Box<dyn Future<Item = crate::models::JobJobsExtended, Error = Error>> {
        let q = ::url::form_urlencoded::Serializer::new(String::new())
            .append_pair("sort", &sort.to_string())
            .append_pair("resume", &resume.to_string())
            .append_pair("batch", &batch.to_string())
            .append_pair("state", &state.to_string())
            .append_pair("limit", &limit.to_string())
            .append_pair("dir", &dir.to_string())
            .finish();
        let uri_str = format!("{}/platform/3/job/jobs?{}", self.configuration.base_path, q);
        query(
            self.configuration.borrow(),
            &uri_str,
            &"",
            hyper::Method::GET,
        )
    }

    fn list_job_policies(
        &self,
        sort: &str,
        limit: i32,
        dir: &str,
        resume: &str,
    ) -> Box<dyn Future<Item = crate::models::JobPoliciesExtended, Error = Error>> {
        let q = ::url::form_urlencoded::Serializer::new(String::new())
            .append_pair("sort", &sort.to_string())
            .append_pair("limit", &limit.to_string())
            .append_pair("dir", &dir.to_string())
            .append_pair("resume", &resume.to_string())
            .finish();
        let uri_str = format!(
            "{}/platform/1/job/policies?{}",
            self.configuration.base_path, q
        );
        query(
            self.configuration.borrow(),
            &uri_str,
            &"",
            hyper::Method::GET,
        )
    }

    fn update_job_job(
        &self,
        job_job: crate::models::JobJob,
        job_job_id: &str,
    ) -> Box<dyn Future<Item = (), Error = Error>> {
        let uri_str = format!(
            "{}/platform/3/job/jobs/{JobJobId}",
            self.configuration.base_path,
            JobJobId = job_job_id
        );
        put(self.configuration.borrow(), &uri_str, &job_job)
    }

    fn update_job_policy(
        &self,
        job_policy: crate::models::JobPolicy,
        job_policy_id: &str,
    ) -> Box<dyn Future<Item = (), Error = Error>> {
        let uri_str = format!(
            "{}/platform/1/job/policies/{JobPolicyId}",
            self.configuration.base_path,
            JobPolicyId = job_policy_id
        );
        put(self.configuration.borrow(), &uri_str, &job_policy)
    }

    fn update_job_type(
        &self,
        job_type: crate::models::JobType,
        job_type_id: &str,
    ) -> Box<dyn Future<Item = (), Error = Error>> {
        let uri_str = format!(
            "{}/platform/1/job/types/{JobTypeId}",
            self.configuration.base_path,
            JobTypeId = job_type_id
        );
        put(self.configuration.borrow(), &uri_str, &job_type)
    }
}
